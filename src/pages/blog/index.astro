---
import HpLayout from '@layouts/Hp.astro';
import { sortPosts } from '../../utils/blog';

// Component Script:
// You can write any JavaScript/TypeScript that you'd like here.
// It will run during the build, but never in the browser.
// All variables are available to use in the HTML template below.
let title: string = 'Example Blog';
let description = 'The perfect starter for your perfect blog.';
let permalink = 'https://example.com/';

// Data Fetching: List all Markdown posts in the repo in descending order
let allPosts = sortPosts(await Astro.glob('./posts/**/*.md'));
// Full Astro Component Syntax:
// https://docs.astro.build/core-concepts/astro-components/
---

<HpLayout lang="it" title={title} description={description} permalink={permalink}>
	<!-- Use Fragment slot="head" to add elements to head	-->
	<Fragment slot="head">
	</Fragment>

	<p>Howdy fella!</p>

	<ul>{allPosts.map(post => <li><a href={post.url}>{post.frontmatter.title}</a></li>)}</ul>
</HpLayout>